# ì—¬ê¸°ê°€ (Yeogiga) ğŸŒ

[![Flutter](https://img.shields.io/badge/Flutter-3.35.4-02569B?logo=flutter)](https://flutter.dev)
[![Dart](https://img.shields.io/badge/Dart-3.9.2-0175C2?logo=dart)](https://dart.dev)
[![Version](https://img.shields.io/badge/version-1.0.0+3-green)](https://github.com)

**ê·¸ë£¹ ì—¬í–‰ì„ ë” ì‰½ê³  ì¬ë¯¸ìˆê²Œ!** ì¼ì • ê´€ë¦¬ë¶€í„° ë¹„ìš© ì •ì‚°, ì¶”ì–µ ê³µìœ ê¹Œì§€ í•œ ë²ˆì—.

ì—¬ê¸°ê°€ëŠ” ì¹œêµ¬, ë™ë£Œ, ê°€ì¡±ê³¼ í•¨ê»˜í•˜ëŠ” ì—¬í–‰ì˜ ëª¨ë“  ê³¼ì •ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ì¢…í•© ì—¬í–‰ ë™ë°˜ì ì•±ì…ë‹ˆë‹¤.

## ğŸ“Š í”„ë¡œì íŠ¸ í†µê³„

- **ì´ ì½”ë“œ ë¼ì¸**: 27,834 ì¤„
- **Dart íŒŒì¼**: 174ê°œ
- **ê¸°ëŠ¥ ëª¨ë“ˆ**: 11ê°œ ë…ë¦½ ëª¨ë“ˆ
- **API ì—”ë“œí¬ì¸íŠ¸**: 65ê°œ
- **í™”ë©´ ìˆ˜**: 24ê°œ
- **ìƒíƒœ ê´€ë¦¬ Provider**: 58ê°œ (StateNotifier 18ê°œ, Future 15ê°œ, Provider 25ê°œ)

## ğŸ“± ì£¼ìš” ê¸°ëŠ¥

### ğŸ—“ ì¼ì • ì¡°ìœ¨ (When2Meet)
- **íŒ€ì› ê°€ëŠ¥ ë‚ ì§œ ì…ë ¥**: ê°ì ì—¬í–‰ ê°€ëŠ¥í•œ ë‚ ì§œ ë²”ìœ„ ì„ íƒ
- **ì‹œê°ì  ê²¹ì¹¨ í‘œì‹œ**: ì—¬ëŸ¬ ëª…ì˜ ì¼ì •ì´ ê²¹ì¹˜ëŠ” ë‚ ì§œë¥¼ ìƒ‰ìƒ ë†ë„ë¡œ í‘œì‹œ
- **ìµœì  ë‚ ì§œ ì„ íƒ**: ëª¨ë‘ê°€ ê°€ëŠ¥í•œ ë‚ ì§œë¥¼ í•œëˆˆì— íŒŒì•…

### ğŸ—º ì¼ì • ê´€ë¦¬ (3ë‹¨ê³„ ì›Œí¬í”Œë¡œìš°)
1. **ì œì•ˆ ë‹¨ê³„ (Pending)**: ë©¤ë²„ë“¤ì´ ê°€ê³  ì‹¶ì€ ì¥ì†Œë¥¼ ììœ ë¡­ê²Œ ì œì•ˆ
2. **í™•ì • ë‹¨ê³„ (Confirmed)**: ë¦¬ë”ê°€ ìµœì¢… ì¼ì • í™•ì • ë° ìˆœì„œ ì„¤ì •
3. **ì™„ë£Œ ë‹¨ê³„ (Completed)**: ë°©ë¬¸ ì™„ë£Œ ì²´í¬ ë° ì‚¬ì§„ ìë™ ë§¤ì¹­

- **ë„¤ì´ë²„ ì§€ë„ ì—°ë™**: ì¥ì†Œ ê²€ìƒ‰ ë° ìƒì„¸ ì •ë³´ ì œê³µ
- **ë“œë˜ê·¸ ì•¤ ë“œë¡­**: ì§ê´€ì ì¸ ì¼ì • ìˆœì„œ ë³€ê²½

### ğŸ“¸ GPS ê¸°ë°˜ ì‚¬ì§„ ìë™ ë§¤ì¹­
- **EXIF ë©”íƒ€ë°ì´í„° ë¶„ì„**: ì‚¬ì§„ì˜ GPS ì¢Œí‘œ ìë™ ì¶”ì¶œ
- **100m ë°˜ê²½ ìë™ ë§¤ì¹­**: í™•ì •ëœ ì¥ì†Œì™€ ì‚¬ì§„ì„ ìë™ìœ¼ë¡œ ì—°ê²°
- **ì¥ì†Œë³„ ì•¨ë²”**: ë°©ë¬¸í•œ ì¥ì†Œë§ˆë‹¤ ì‚¬ì§„ì´ ìë™ìœ¼ë¡œ ì •ë¦¬
- **ì¦ê²¨ì°¾ê¸°**: ë§ˆìŒì— ë“œëŠ” ì‚¬ì§„ì— ë³„í‘œ í‘œì‹œ
- **ì¬ë§¤ì¹­ ê¸°ëŠ¥**: ì¼ì • ìˆ˜ì • í›„ ì‚¬ì§„ ìœ„ì¹˜ ì¬ê³„ì‚°

### ğŸ“ ì‹¤ì‹œê°„ ìœ„ì¹˜ ì¶”ì 
- **FCM ë°±ê·¸ë¼ìš´ë“œ í•¸ë“¤ëŸ¬**: ì•±ì´ ë¹„í™œì„± ìƒíƒœì—¬ë„ 5ë¶„ë§ˆë‹¤ ìœ„ì¹˜ ìë™ ì „ì†¡
- **ì‹¤ì‹œê°„ ì§€ë„**: ì—¬í–‰ ì¤‘ ë©¤ë²„ë“¤ì˜ í˜„ì¬ ìœ„ì¹˜ í‘œì‹œ
- **ê²½ë¡œ ê¸°ë¡**: ë°©ì¥ì˜ ì´ë™ ê²½ë¡œ ìë™ ì €ì¥
- **ì—¬í–‰ ë³µê¸°**: ì™„ë£Œëœ ì—¬í–‰ì˜ ì „ì²´ ê²½ë¡œë¥¼ ì§€ë„ì— í‘œì‹œ

### ğŸ’° ì •ì‚° ê´€ë¦¬
- **1/n ìë™ ê³„ì‚°**: ì°¸ì—¬ ì¸ì›ì— ë”°ë¼ ë¹„ìš© ìë™ ë¶„í• 
- **ì¼ìë³„ ì •ë¦¬**: ì—¬í–‰ ë‚ ì§œë³„ë¡œ ì •ì‚° ë‚´ì—­ ê·¸ë£¹í™”
- **ì²´í¬ë¦¬ìŠ¤íŠ¸**: ê° ë©¤ë²„ì˜ ì •ì‚° ì™„ë£Œ ì—¬ë¶€ ì¶”ì 
- **ì •ì‚° íƒ€ì…**: ë”ì¹˜í˜ì´(Dutch Pay) ë° ì»¤ìŠ¤í…€ ë¶„ë‹´ ì§€ì›

### ğŸ”” ê³µì§€ì‚¬í•­ ë° ì§‘ê²°ì§€
- **ë¦¬ë” ê³µì§€ì‚¬í•­**: ì „ì²´ ë©¤ë²„ì—ê²Œ ì¤‘ìš” ë©”ì‹œì§€ ì „ë‹¬ (ì™„ë£Œ ì²´í¬)
- **ì§‘ê²°ì§€ (Ping)**: ë§Œë‚  ì¥ì†Œì™€ ì‹œê°„ ê³µìœ  (ë„ì°© í™•ì¸)

### ğŸ”— ë”¥ë§í¬ ì´ˆëŒ€
- **URL ìŠ¤í‚´**: `yeogiga://trip/invite/:tripId`
- **ì›í´ë¦­ ì°¸ê°€**: ë§í¬ í´ë¦­ë§Œìœ¼ë¡œ ì—¬í–‰ ìë™ ì°¸ê°€
- **ì¸ì¦ í›„ ë³µê·€**: ë¹„ë¡œê·¸ì¸ ì‹œ ë¡œê·¸ì¸ í›„ ìë™ìœ¼ë¡œ ì›ë˜ ì´ˆëŒ€ ë§í¬ë¡œ ì´ë™

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### í•µì‹¬ í”„ë ˆì„ì›Œí¬
- **Flutter**: 3.35.4 (í¬ë¡œìŠ¤í”Œë«í¼ UI)
- **Dart**: 3.9.2

### ìƒíƒœ ê´€ë¦¬
- **flutter_riverpod** 2.6.1
  - StateNotifierProvider: ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
  - FutureProvider: ë¹„ë™ê¸° ë°ì´í„° í˜ì¹­
  - Provider: ì˜ì¡´ì„± ì£¼ì…

### ë„¤íŠ¸ì›Œí‚¹
- **dio** 5.8.0: HTTP í´ë¼ì´ì–¸íŠ¸
- **retrofit** 4.4.2: íƒ€ì… ì•ˆì „ REST API í´ë¼ì´ì–¸íŠ¸
- **json_serializable**: JSON ì§ë ¬í™”

### ë¼ìš°íŒ…
- **go_router** 7.0.0: ì„ ì–¸ì  ë¼ìš°íŒ… ë° ë”¥ë§í¬

### ì™¸ë¶€ ì„œë¹„ìŠ¤
- **Firebase**
  - `firebase_core`: ì´ˆê¸°í™”
  - `firebase_messaging`: FCM í‘¸ì‹œ ì•Œë¦¼
- **Kakao**
  - `kakao_flutter_sdk_user`: ì†Œì…œ ë¡œê·¸ì¸
  - `kakao_flutter_sdk_auth`: ì¸ì¦
- **Naver**
  - `flutter_naver_map`: ì§€ë„ SDK
  - Naver Place Search API: ì¥ì†Œ ê²€ìƒ‰

### ìœ„ì¹˜ ë° ë¯¸ë””ì–´
- **geolocator**: GPS ìœ„ì¹˜ (ì‹¤ì‹œê°„ ì¶”ì )
- **file_picker**: íŒŒì¼ ì„ íƒ
- **exif**: EXIF ë©”íƒ€ë°ì´í„° (GPS ì¢Œí‘œ ì¶”ì¶œ)
- **image_gallery_saver_plus**: ê°¤ëŸ¬ë¦¬ ì €ì¥
- **share_plus**: ê³µìœ  ê¸°ëŠ¥

### ë³´ì•ˆ
- **flutter_secure_storage**: JWT í† í° ì•”í˜¸í™” ì €ì¥

### UI/UX
- **flutter_screenutil**: ë°˜ì‘í˜• ë””ìì¸ (393Ã—852 ê¸°ì¤€)
- **flutter_svg**: SVG ì•„ì´ì½˜
- **skeletons**: ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤
- **liquid_pull_to_refresh**: ë¬¼ë°©ìš¸ íš¨ê³¼ ìƒˆë¡œê³ ì¹¨
- **flutter_slidable**: ìŠ¤ì™€ì´í”„ ì œìŠ¤ì²˜

## ğŸ— ì•„í‚¤í…ì²˜

### Feature-Based ëª¨ë“ˆ êµ¬ì¡°

11ê°œì˜ ë…ë¦½ì ì¸ ê¸°ëŠ¥ ëª¨ë“ˆë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ê° ëª¨ë“ˆì€ Model-Repository-Provider-View ê³„ì¸µìœ¼ë¡œ ëª…í™•íˆ ë¶„ë¦¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```
lib/
â”œâ”€â”€ common/              # ê³µí†µ ì»´í¬ë„ŒíŠ¸, ìƒìˆ˜, ìœ í‹¸ë¦¬í‹° (41ê°œ íŒŒì¼)
â”‚   â”œâ”€â”€ component/       # ì¬ì‚¬ìš© UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ const/          # ìƒìˆ˜ (ìƒ‰ìƒ, API URL)
â”‚   â”œâ”€â”€ dio/            # CustomInterceptor (JWT ìë™ ê°±ì‹ )
â”‚   â”œâ”€â”€ provider/       # í•µì‹¬ Provider (Dio, GoRouter)
â”‚   â””â”€â”€ service/        # FCM ë°±ê·¸ë¼ìš´ë“œ í•¸ë“¤ëŸ¬
â”‚
â”œâ”€â”€ trip/                # ì—¬í–‰ ìƒì„±/ê´€ë¦¬/ì´ˆëŒ€ (31ê°œ íŒŒì¼)
â”œâ”€â”€ main_trip/           # í™ˆ í™”ë©´ (4ê°œ íŒŒì¼)
â”œâ”€â”€ trip_list/           # ì—¬í–‰ ëª©ë¡ (3ê°œ íŒŒì¼)
â”œâ”€â”€ schedule/            # ì¼ì • ê´€ë¦¬ (14ê°œ íŒŒì¼)
â”œâ”€â”€ settlement/          # ë¹„ìš© ì •ì‚° (10ê°œ íŒŒì¼)
â”œâ”€â”€ trip_image/          # ì‚¬ì§„ ê´€ë¦¬ (10ê°œ íŒŒì¼)
â”œâ”€â”€ user/                # ì‚¬ìš©ì ì¸ì¦ (15ê°œ íŒŒì¼)
â”œâ”€â”€ notice/              # ê³µì§€ì‚¬í•­/ì§‘ê²°ì§€ (10ê°œ íŒŒì¼)
â”œâ”€â”€ naver/               # ë„¤ì´ë²„ API (3ê°œ íŒŒì¼)
â””â”€â”€ w2m/                 # When2Meet (6ê°œ íŒŒì¼)
```

ê° ê¸°ëŠ¥ ëª¨ë“ˆì€ ë‹¤ìŒ êµ¬ì¡°ë¥¼ ë”°ë¦…ë‹ˆë‹¤:
- `model/` - ë°ì´í„° ëª¨ë¸ (@JsonSerializable)
- `repository/` - API í†µì‹  ë ˆì´ì–´ (Retrofit/Dio)
- `provider/` - Riverpod ìƒíƒœ ê´€ë¦¬
- `view/` or `screen/` - UI í™”ë©´
- `component/` - ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸

### ìƒíƒœ ê´€ë¦¬ íŒ¨í„´

**Riverpod 3ê°€ì§€ ì£¼ìš” íŒ¨í„´**:

```dart
// 1. StateNotifierProvider - ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬
final userMeProvider = StateNotifierProvider<UserMeStateNotifier, UserModelBase?>

// 2. FutureProvider - ë¹„ë™ê¸° ë°ì´í„° í˜ì¹­ (auto-dispose)
final mainTripFutureProvider = FutureProvider.autoDispose<MainTripModel?>

// 3. Provider - ì˜ì¡´ì„± ì£¼ì…
final dioProvider = Provider<Dio>
```

**ì£¼ìš” íŒ¨í„´**:
- `AsyncValue<T>`: loading/error/data ìë™ ì²˜ë¦¬
- `.when()`: ìƒíƒœë³„ UI ë¶„ê¸°
- `ref.watch()`: build ë©”ì„œë“œì—ì„œ ìƒíƒœ êµ¬ë…
- `ref.read()`: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ ìƒíƒœ ì½ê¸°
- **Optimistic UI**: ë„¤íŠ¸ì›Œí¬ ì‘ë‹µ ì „ UI ì¦‰ì‹œ ì—…ë°ì´íŠ¸, ì‹¤íŒ¨ ì‹œ ë¡¤ë°±

### API í†µì‹  ë ˆì´ì–´

**2ê°€ì§€ ì ‘ê·¼ ë°©ì‹**:

#### (1) Retrofit - ë‹¨ìˆœ CRUD
```dart
@RestApi()
abstract class UserMeRepository {
  @GET('/users/my')
  @Headers({'accessToken': 'true'})  // ìë™ í† í° ì£¼ì…
  Future<UserResponseModel> getMe();
}
```

#### (2) ìˆ˜ë™ Dio - ë³µì¡í•œ ë¡œì§
```dart
Future<PostTripResponse> postTrip({required String title}) async {
  final response = await dio.post(
    '$baseUrl/trip',
    options: Options(headers: {"accessToken": 'true'}),
    data: {"title": title},
  );
  return PostTripResponse.fromJson(response.data);
}
```

**CustomInterceptor ê¸°ëŠ¥**:
- âœ… JWT í† í° ìë™ ì£¼ì… (`'accessToken': 'true'` í—¤ë” ê°ì§€)
- âœ… 401 ì—ëŸ¬ ì‹œ Refresh Tokenìœ¼ë¡œ ìë™ ì¬ë°œê¸‰
- âœ… ì›ë³¸ ìš”ì²­ ìë™ ì¬ì‹œë„ (ìƒˆ í† í° ì‚¬ìš©)
- âœ… Refresh Token ë§Œë£Œ ì‹œ ìë™ ë¡œê·¸ì•„ì›ƒ

### ë¼ìš°íŒ… ë° ë”¥ë§í¬

**GoRouter ì£¼ìš” ê¸°ëŠ¥**:
- ì¸ì¦ ìƒíƒœ ê¸°ë°˜ route guard (`authProvider.redirectLogic`)
- ë¹„ì¸ì¦ ì‚¬ìš©ìì˜ ë”¥ë§í¬ URL ë³´ì¡´ (ë¡œê·¸ì¸ í›„ ë³µê·€)
- ì»¤ìŠ¤í…€ í˜ì´ì§€ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ (fade + slide, 150ms)
- Route observerë¡œ ìƒëª…ì£¼ê¸° ê´€ë¦¬

**ë”¥ë§í¬ ì²˜ë¦¬ íë¦„**:
1. `yeogiga://trip/invite/:tripId` í´ë¦­
2. ë¹„ë¡œê·¸ì¸ â†’ `/login?redirect=%2Ftrip%2Finvite%2F123`
3. ë¡œê·¸ì¸ ì„±ê³µ â†’ ìë™ìœ¼ë¡œ `/trip/invite/123`ë¡œ ì´ë™
4. `TripInviteHandler`ì—ì„œ ìë™ìœ¼ë¡œ ì—¬í–‰ ì°¸ê°€ API í˜¸ì¶œ
5. ì„±ê³µ ì‹œ ì—¬í–‰ ìƒì„¸ í™”ë©´ìœ¼ë¡œ ì´ë™

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- **Flutter SDK**: 3.7.0 ì´ìƒ
- **Dart SDK**: 3.9.0 ì´ìƒ
- **iOS**: Xcode 14 ì´ìƒ, CocoaPods
- **Android**: Android Studio, Gradle 7.0+

### ì„¤ì¹˜ ë°©ë²•

1. **ì €ì¥ì†Œ í´ë¡ **
   ```bash
   git clone [repository-url]
   cd yeogiga-app
   ```

2. **ì˜ì¡´ì„± ì„¤ì¹˜**
   ```bash
   flutter pub get
   ```

3. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**

   `.env.example` íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ `.env` íŒŒì¼ ìƒì„±:
   ```bash
   cp .env.example .env
   ```

   ê·¸ í›„ ì‹¤ì œ API í‚¤ ê°’ë“¤ì„ ì…ë ¥:
   ```env
   # API ì„œë²„ (í”„ë¡œë•ì…˜)
   API_BASE_URL=https://api.yeogiga.com/api/v1

   # ë„¤ì´ë²„ ì§€ë„
   NAVER_MAP_API_CLIENT_ID=your_naver_map_key

   # ë„¤ì´ë²„ ì¥ì†Œ ê²€ìƒ‰
   NAVER_PLACE_SEARCH_CLIENT_ID=your_naver_client_id
   NAVER_PLACE_SEARCH_CLIENT_SECRET=your_naver_client_secret

   # ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸
   KAKAO_NATIVE_APP_KEY=your_kakao_key
   ```

   **ë¡œì»¬ ê°œë°œ ì‹œ API ì„œë²„ ë³€ê²½**:
   ```env
   # Android Emulator (ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ IP í•„ìš”)
   API_BASE_URL=http://192.168.0.18:3000/api/v1

   # iOS Simulator
   API_BASE_URL=http://127.0.0.1:3000/api/v1
   ```

4. **ì½”ë“œ ìƒì„±**

   JSON ì§ë ¬í™” ë° Retrofit API í´ë¼ì´ì–¸íŠ¸ ìƒì„±:
   ```bash
   dart run build_runner build --delete-conflicting-outputs
   ```

   **ì¤‘ìš”**: ëª¨ë¸ì´ë‚˜ Repositoryë¥¼ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ì´ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

   ê°œë°œ ì¤‘ ìë™ ìƒì„± (watch ëª¨ë“œ):
   ```bash
   dart run build_runner watch --delete-conflicting-outputs
   ```

5. **ì•± ì‹¤í–‰**
   ```bash
   # ê¸°ë³¸ ì‹¤í–‰
   flutter run

   # íŠ¹ì • ë””ë°”ì´ìŠ¤ ì„ íƒ
   flutter devices
   flutter run -d <device-id>
   ```

## ğŸ”§ ê°œë°œ ëª…ë ¹ì–´

### ì½”ë“œ í’ˆì§ˆ
```bash
# ì •ì  ë¶„ì„
flutter analyze

# ì½”ë“œ í¬ë§·íŒ…
dart format .

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
flutter test

# í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
flutter test --coverage
```

### ë¹Œë“œ
```bash
# Android APK
flutter build apk --release

# Android App Bundle (Google Playìš©)
flutter build appbundle --release

# iOS
flutter build ios --release
```

### í´ë¦° ë¹Œë“œ
```bash
# ë¹Œë“œ ìºì‹œ ì‚­ì œ ë° ì¬ì„¤ì¹˜
flutter clean && flutter pub get

# ì „ì²´ ì¬ë¹Œë“œ (ì½”ë“œ ìƒì„± í¬í•¨)
flutter clean && flutter pub get && dart run build_runner build --delete-conflicting-outputs
```

### ì•„ì´ì½˜ ë° ìŠ¤í”Œë˜ì‹œ ìŠ¤í¬ë¦°
```bash
# ì•± ì•„ì´ì½˜ ìƒì„±
flutter pub run flutter_launcher_icons

# ìŠ¤í”Œë˜ì‹œ ìŠ¤í¬ë¦° ìƒì„±
flutter pub run flutter_native_splash:create
```

## ğŸ” ì¸ì¦ ë° ë³´ì•ˆ

### ì¸ì¦ íë¦„
1. **ì¹´ì¹´ì˜¤ ì†Œì…œ ë¡œê·¸ì¸** â†’ ì„ì‹œ í† í° ë°œê¸‰
2. **ë‹‰ë„¤ì„ ì„¤ì •** (ì‹ ê·œ ì‚¬ìš©ì)
3. **ì •ì‹ JWT í† í° ë°œê¸‰** (Access + Refresh Token)
4. **ìë™ í† í° ê°±ì‹ ** (401 ì—ëŸ¬ ì‹œ Refresh Tokenìœ¼ë¡œ ì¬ë°œê¸‰)

### ë³´ì•ˆ ì €ì¥ì†Œ
- **flutter_secure_storage** ì‚¬ìš©
  - iOS: Keychain
  - Android: EncryptedSharedPreferences
- ì €ì¥ í•­ëª©: `ACCESS_TOKEN`, `REFRESH_TOKEN`

### í† í° ìë™ ê°±ì‹  ë©”ì»¤ë‹ˆì¦˜
```dart
// CustomInterceptorì—ì„œ ìë™ ì²˜ë¦¬
onError(DioException err) {
  if (err.response?.statusCode == 401) {
    // 1. Refresh Tokenìœ¼ë¡œ ìƒˆ í† í° ë°œê¸‰
    // 2. Secure Storageì— ì €ì¥
    // 3. ì›ë³¸ ìš”ì²­ í—¤ë” ì—…ë°ì´íŠ¸
    // 4. ì›ë³¸ ìš”ì²­ ì¬ì‹œë„
  }
}
```

## ğŸ”” FCM ë°±ê·¸ë¼ìš´ë“œ ìœ„ì¹˜ ì¶”ì 

### ë™ì‘ ì›ë¦¬
1. ì„œë²„ì—ì„œ ì—¬í–‰ ì§„í–‰ ì¤‘ì¸ ì‚¬ìš©ìì—ê²Œ 5ë¶„ë§ˆë‹¤ FCM ë°ì´í„° ë©”ì‹œì§€ ì „ì†¡
2. `@pragma('vm:entry-point')` ë°±ê·¸ë¼ìš´ë“œ í•¸ë“¤ëŸ¬ ì‹¤í–‰ (ë³„ë„ isolate)
3. GPS ìœ„ì¹˜ íšë“ (`geolocator`)
4. ì—¬í–‰ ì‹œì‘ì¼ ê¸°ì¤€ í˜„ì¬ ì¼ì°¨(day) ê³„ì‚°
5. 2ê°œ API ë™ì‹œ í˜¸ì¶œ:
   - `/trip/:tripId/members/location` (ë©¤ë²„ ìœ„ì¹˜)
   - `/trip/:tripId/days/:day/routes` (í˜¸ìŠ¤íŠ¸ ê²½ë¡œ)

### ê¶Œí•œ ìš”êµ¬ì‚¬í•­
- **Android**: `ACCESS_FINE_LOCATION`, `ACCESS_BACKGROUND_LOCATION`
- **iOS**: `NSLocationAlwaysUsageDescription`
- ì‚¬ìš©ì ì„¤ì •: **"í•­ìƒ í—ˆìš©"** ìœ„ì¹˜ ê¶Œí•œ í•„ìš”

## ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ

### íƒ€ì´í¬ê·¸ë˜í”¼
- **í°íŠ¸**: Pretendard (9ê°€ì§€ Weight: 100~900)
- **ê¸°ë³¸ í¬ê¸°**: 14sp ~ 25sp

### ë°˜ì‘í˜• ë””ìì¸
**ë””ìì¸ ê¸°ì¤€**: 393Ã—852 (iPhone 13/14 ê¸°ì¤€)

```dart
ScreenUtilInit(designSize: const Size(393, 852))

// ì‚¬ìš© ì˜ˆì‹œ
Text('Hello', style: TextStyle(fontSize: 16.sp))  // í™”ë©´ ë¹„ë¡€ í°íŠ¸
Container(width: 100.w, height: 50.h)              // ë¹„ë¡€ ë„ˆë¹„/ë†’ì´
SizedBox(height: 20.h)                              // ë¹„ë¡€ ê°„ê²©
BorderRadius.circular(12.r)                         // ë¹„ë¡€ ë°˜ê²½
```

### ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
- `ConfirmationDialog`: í™•ì¸/ì·¨ì†Œ ë‹¤ì´ì–¼ë¡œê·¸ (ì‚­ì œ, ë¡œê·¸ì•„ì›ƒ ë“±)
- `CustomTextFormField`: í†µì¼ëœ í…ìŠ¤íŠ¸ ì…ë ¥ í•„ë“œ
- `PrimaryButton`: ë©”ì¸ ì•¡ì…˜ ë²„íŠ¼
- `SettingTripCard` / `TripCard`: ì—¬í–‰ ì¹´ë“œ UI
- `DaySelector`: ì¼ì°¨ ì„ íƒ ì»´í¬ë„ŒíŠ¸

### ì•„ì´ì½˜
- SVG í˜•ì‹ (22ê°œ ì»¤ìŠ¤í…€ ì•„ì´ì½˜)
- ìœ„ì¹˜: `asset/icon/`

## ğŸš¢ CI/CD

### Codemagic ìë™ ë°°í¬

**íŠ¸ë¦¬ê±°**: `main` ë¸Œëœì¹˜ push ì‹œ ìë™ ì‹¤í–‰

**ë¹Œë“œ íŒŒì´í”„ë¼ì¸**:
1. âœ… Android Keystore ë””ì½”ë“œ
2. âœ… Flutter ì˜ì¡´ì„± ì„¤ì¹˜ (`flutter pub get`)
3. âœ… ì •ì  ë¶„ì„ (`flutter analyze`)
4. âœ… í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (`flutter test`)
5. âœ… AAB ë¹Œë“œ (`flutter build appbundle --release`)
6. âœ… Google Play Internal Test Track ìë™ ì—…ë¡œë“œ

**í™˜ê²½ ë³€ìˆ˜** (Codemagic ì„¤ì •):
- `CM_KEYSTORE`: Base64 ì¸ì½”ë”©ëœ Keystore
- `CM_KEYSTORE_PASSWORD`, `CM_KEY_PASSWORD`, `CM_KEY_ALIAS`
- `GCLOUD_SERVICE_ACCOUNT_CREDENTIALS`: Google Play ì¸ì¦ JSON

**ë²„ì „ ê´€ë¦¬**:
- Format: `major.minor.patch+buildNumber`
- `pubspec.yaml`ì—ì„œ ê´€ë¦¬
- í˜„ì¬ ë²„ì „: **1.0.0+3**

## ğŸŒ¿ ë¸Œëœì¹˜ ì „ëµ

- **main**: í”„ë¡œë•ì…˜ ë¸Œëœì¹˜ (ì•ˆì • ë²„ì „)
- **Feature(\*)**: ê¸°ëŠ¥ë³„ ë¸Œëœì¹˜
  - ì˜ˆ: `Feature(IL-362)-ë”¥ë§í¬(ì—¬í–‰ì´ˆëŒ€)`
  - ì˜ˆ: `Feature-ì‚¬ì§„-í¬ê²Œë³´ê¸°-UI-ë°-ë¡œì§-êµ¬í˜„`

## ğŸ“ ì»¤ë°‹ ê·œì¹™

```
Feature: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
UI: UI/UX ê°œì„ 
Fix: ë²„ê·¸ ìˆ˜ì •
Refactor: ì½”ë“œ ë¦¬íŒ©í† ë§
Docs: ë¬¸ì„œ ìˆ˜ì •
Test: í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì •
Chore: ë¹Œë“œ ì„¤ì •, ì˜ì¡´ì„± ì—…ë°ì´íŠ¸
```

## ğŸ’¡ íŠ¹ë³„í•œ êµ¬í˜„ ì‚¬í•­

### 1. GPS ì‚¬ì§„ ìë™ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜
```dart
// EXIF ë©”íƒ€ë°ì´í„°ì—ì„œ GPS ì¢Œí‘œ ì¶”ì¶œ
final exifData = await readExifFromBytes(imageBytes);
final latitude = exifData['GPS GPSLatitude'];
final longitude = exifData['GPS GPSLongitude'];

// í™•ì •ëœ ì¥ì†Œì™€ ê±°ë¦¬ ê³„ì‚° (100m ë°˜ê²½ ë‚´ ìë™ ë§¤ì¹­)
final distance = Geolocator.distanceBetween(
  photoLat, photoLng, placeLat, placeLng
);
if (distance <= 100) {
  // ìë™ ë§¤ì¹­
}
```

### 2. Optimistic UI ì—…ë°ì´íŠ¸
```dart
// ì¦‰ì‹œ UI ë°˜ì˜ (ë„¤íŠ¸ì›Œí¬ ì‘ë‹µ ëŒ€ê¸° ì•ˆí•¨)
state = AsyncValue.data(updatedState);

// ì„œë²„ ìš”ì²­
final success = await repository.update(...);

// ì‹¤íŒ¨ ì‹œ ë¡¤ë°±
if (!success) {
  state = previousState;
}
```

### 3. JWT ìë™ ê°±ì‹  (Seamless UX)
ì‚¬ìš©ìëŠ” í† í° ë§Œë£Œë¥¼ ì „í˜€ ì¸ì§€í•˜ì§€ ëª»í•¨. ëª¨ë“  API ìš”ì²­ì— ìë™ ì ìš©.

### 4. ë”¥ë§í¬ URL ë³´ì¡´
ë¹„ë¡œê·¸ì¸ ì‚¬ìš©ìê°€ ì´ˆëŒ€ ë§í¬ í´ë¦­ â†’ ë¡œê·¸ì¸ í›„ ìë™ìœ¼ë¡œ ì›ë˜ ì´ˆëŒ€ ë§í¬ë¡œ ë³µê·€

## ğŸ› ì•Œë ¤ì§„ ì´ìŠˆ

- iOS ì‹œë®¬ë ˆì´í„°ì—ì„œ ë„¤ì´ë²„ ì§€ë„ ë¡œë”©ì´ ëŠë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì‹¤ì œ ê¸°ê¸°ì—ì„œëŠ” ì •ìƒ)
- FCM ë°±ê·¸ë¼ìš´ë“œ í•¸ë“¤ëŸ¬ëŠ” ìœ„ì¹˜ ê¶Œí•œì´ "í•­ìƒ í—ˆìš©"ì´ì–´ì•¼ ì •ìƒ ë™ì‘í•©ë‹ˆë‹¤
- Android Emulatorì—ì„œ ë¡œì»¬ API ì„œë²„ ì ‘ì† ì‹œ `10.0.2.2` ë˜ëŠ” ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ IP ì‚¬ìš© í•„ìš”

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. ê¸°ëŠ¥ ë¸Œëœì¹˜ ìƒì„± (`Feature(ISSUE-ë²ˆí˜¸)-ê¸°ëŠ¥ëª…`)
2. ë³€ê²½ì‚¬í•­ ì»¤ë°‹
3. ë¸Œëœì¹˜ í‘¸ì‹œ
4. Pull Request ìƒì„± (í…œí”Œë¦¿ ì°¸ì¡°: `.github/PULL_REQUEST_TEMPLATE.md`)

## ğŸ“š ì¶”ê°€ ë¬¸ì„œ

- **CLAUDE.md**: í”„ë¡œì íŠ¸ ê°€ì´ë“œ (ì•„í‚¤í…ì²˜, íŒ¨í„´, ì£¼ì˜ì‚¬í•­)
- **CI.md**: CI íŒŒì´í”„ë¼ì¸ ìƒì„¸ ë¬¸ì„œ
- **CD.md**: CD ë°°í¬ í”„ë¡œì„¸ìŠ¤ ë¬¸ì„œ

## ğŸ“„ ë¼ì´ì„ ìŠ¤

Private project - All rights reserved

## ğŸ‘¥ íŒ€

**Team Ilmansa**

---

**ë²„ì „**: 1.0.0+3
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025ë…„ 1ì›”

**Made with â¤ï¸ using Flutter**
